## 1. 文件日志
logcat只能线下使用，如果要在线上也能使用的话，需要自己开发一个log库，日志打印都通过该库。
* 日志数据存到本地文件
* 回捞、主动上传或者crash才上报
* 本地设定文件大小上限比如20M
* 可利用mmap提高效率
* 加密、压缩
* 分片（比如100k大小，上传到服务器再合并文件，文件分片可以提升日志回捞成功率） 

## 2. 业务埋点日志
业务埋点都需要上报。可以先把埋点数据写到本地数据库。
* 正常使用默认间隔几分钟上报一次
* 超过几天或者上报失败5次（自行定义），可直接删除该数据，避免不可处理的异常
* 普通的上报失败（比如网络连接），重试超过3次，可以把间隔时间调整更长（比如10、20分钟）递增（自定义一个最大的时间）
* 服务器异常，比如http响应5xx错误，可以立即设置间隔时间。之后只要成功，就恢复默认的间隔
* 上报成功后，删除数据库中的埋点数据